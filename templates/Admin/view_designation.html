{% extends 'base.html' %}

{% block content %}
  {% load static %}

  <div class="content container-fluid">
    <div class="page-header">
      <div class="row align-items-center">
        <div class="col">
          <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'Admin/homepage' %}">Dashboard</a></li>
            <li class="breadcrumb-item active">View Designation</li>
          </ul>
          <h3 class="page-title text-center">List Of Designation</h3>
          
          {% include 'includes/messages.html' %}
        </div>
      </div>
    </div>

    <div class="card card-table">
      <div class="card-body">
        <div class="table-responsive">
          <table id="table_id" class="table table-hover table-center mb-0 datatable">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Created_at</th>
                <th>Updated_at</th>
                <th class="text-right">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for i in designation %}
                <tr>
                  <td>{{ i.id }}</td>
                  <td>{{ i.name }}</td>
                  <td>{{ i.created_at }}</td>
                  <td>{{ i.updated_at }}</td>
                  <td class="text-right">
                    <div class="actions">
                      <a href="{% url 'edit_designationpage' i.id %}" class="btn btn-sm bg-success-light mr-2" title="Edit">
                        <i class="fas fa-pen" aria-hidden="true"></i>
                      </a>
                      <a href="{% url 'delete_designationpage' i.id %}" class="btn btn-sm bg-danger-light" title="Delete">
                        <i class="fas fa-trash" aria-hidden="true"></i>
                      </a>
                    </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Display pagination controls -->
    <div class="pagination">
      <span class="step-links">
        {% if designation.has_previous %}
          <a href="?page=1">&laquo; first</a>
          <a href="?page={{ designation.previous_page_number }}">previous</a>
        {% endif %}
        <span class="current-page">{{ designation.number }}</span>
        {% if designation.has_next %}
          <a href="?page={{ designation.next_page_number }}">next</a>
          <a href="?page={{ designation.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
      </span>
    </div>
  </div>

  <!-- Add DataTables CSS and JS files -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>

  <!-- Initialize DataTable -->
  <script>
    $(document).ready(function () {
      $('#table_id').DataTable();
    });
  </script>
{% endblock %}
